"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CliPluginTypeORMModule = void 0;
const tslib_1 = require("tslib");
const cli_core_1 = require("@tsed/cli-core");
const di_1 = require("@tsed/di");
const TypeORMGenerateHook_1 = require("./hooks/TypeORMGenerateHook");
const TypeORMInitHook_1 = require("./hooks/TypeORMInitHook");
let CliPluginTypeORMModule = class CliPluginTypeORMModule {
    packageJson;
    install() {
        this.packageJson.addDependencies({
            typeorm: "latest"
        });
    }
};
tslib_1.__decorate([
    (0, di_1.Inject)(),
    tslib_1.__metadata("design:type", cli_core_1.ProjectPackageJson)
], CliPluginTypeORMModule.prototype, "packageJson", void 0);
tslib_1.__decorate([
    (0, cli_core_1.OnAdd)("@tsed/cli-plugin-typeorm"),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", void 0)
], CliPluginTypeORMModule.prototype, "install", null);
CliPluginTypeORMModule = tslib_1.__decorate([
    (0, cli_core_1.Module)({
        imports: [TypeORMInitHook_1.TypeORMInitHook, TypeORMGenerateHook_1.TypeORMGenerateHook]
    })
], CliPluginTypeORMModule);
exports.CliPluginTypeORMModule = CliPluginTypeORMModule;
//# sourceMappingURL=CliPluginTypeORMModule.js.map